"use strict";(self["webpackChunkjd"]=self["webpackChunkjd"]||[]).push([[94],{8179:function(t,s,c){c.d(s,{Z:function(){return w}});var e=c(3396),a=c(7139);const n=["src"],r={class:"nearby__content"},o={class:"nearby__content__title"},i={class:"nearby__content__tags"},_={class:"nearby__content__tag"},l={class:"nearby__content__tag"},d={class:"nearby__content__tag"},p={class:"nearby__content__highlight"};function u(t,s,c,u,m,h){return(0,e.wg)(),(0,e.iD)("div",{class:(0,a.C_)(["nearby__item",{"nearby__content--border":!c.hideBorder}])},[c.item.imgUrl?((0,e.wg)(),(0,e.iD)("img",{key:0,src:c.item.imgUrl,class:"nearby__item__img"},null,8,n)):(0,e.kq)("",!0),(0,e._)("div",r,[(0,e._)("div",o,(0,a.zw)(c.item.name),1),(0,e._)("div",i,[(0,e._)("span",_,"月销"+(0,a.zw)(c.item.sales),1),(0,e._)("span",l,"起送:"+(0,a.zw)(c.item.expressLimit),1),(0,e._)("span",d,"配送费:"+(0,a.zw)(c.item.expressPrice),1)]),(0,e._)("p",p,(0,a.zw)(c.item.slogan),1)])],2)}var m={props:["item","hideBorder"]},h=c(89);const g=(0,h.Z)(m,[["render",u]]);var w=g},2094:function(t,s,c){c.r(s),c.d(s,{default:function(){return It}});var e=c(3396);const a=t=>((0,e.dD)("data-v-6f786f35"),t=t(),(0,e.Cn)(),t),n={class:"wrapper"},r={class:"search"},o=a((()=>(0,e._)("div",{class:"search__back iconfont"},"  ",-1))),i=a((()=>(0,e._)("div",{class:"search__content"},[(0,e._)("span",{class:"search__content__icon iconfont"},""),(0,e._)("input",{class:"search__content__input",placeholder:"请输入商品名称搜索"})],-1)));function _(t,s,c,a,_,l){const d=(0,e.up)("router-link"),p=(0,e.up)("Shop"),u=(0,e.up)("Content"),m=(0,e.up)("Cart");return(0,e.wg)(),(0,e.iD)("div",n,[(0,e._)("div",r,[(0,e.Wm)(d,{to:{path:"/"}},{default:(0,e.w5)((()=>[o])),_:1}),i]),(0,e.Wm)(p,{item:a.item,hideBorder:!0},null,8,["item"]),(0,e.Wm)(u),(0,e.Wm)(m)])}var l=c(4870),d=c(8179),p=c(2483),u=c(60),m=c(7139);const h=t=>((0,e.dD)("data-v-2711f7fc"),t=t(),(0,e.Cn)(),t),g={class:"content"},w={class:"category"},f=["onClick"],v={class:"product"},C=h((()=>(0,e._)("img",{src:"https://img.zcool.cn/community/0311d035682a5e40000018b8e50fb19.jpg?x-oss-process=image/resize,m_fill,w_260,h_195,limit_1/auto-orient,1/sharpen,100/quality,q_80/format,webp",class:"product__one__img"},null,-1))),k={class:"product__one__details"},y={class:"product__title"},b={class:"product__sales"},I={class:"product__price"},L={class:"product__price__now"},z={class:"product__price__now__number"},D={class:"product__price__origin"},T={class:"product__amounts"},j=["onClick"],A={class:"product__amounts__number"},q=["onClick"];function F(t,s,c,a,n,r){return(0,e.wg)(),(0,e.iD)("div",g,[(0,e._)("div",w,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(a.categoryList,(t=>((0,e.wg)(),(0,e.iD)("div",{class:(0,m.C_)({category__tag:!0,"category__tag--active":a.currentTab===t.tab}),key:t.name,onClick:()=>a.categoryClick(t.tab)},(0,m.zw)(t.name),11,f)))),128))]),(0,e._)("div",v,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(a.productItem,(t=>((0,e.wg)(),(0,e.iD)("div",{class:"product__one",key:t.title},[C,(0,e._)("div",k,[(0,e._)("h4",y,(0,m.zw)(t.title),1),(0,e._)("div",b,"月售"+(0,m.zw)(t.sells)+"件",1),(0,e._)("div",I,[(0,e._)("div",L,[(0,e.Uk)("¥"),(0,e._)("span",z,(0,m.zw)(t.nowprice),1)]),(0,e._)("div",D,"¥"+(0,m.zw)(t.oldprice),1)]),(0,e._)("div",T,[(0,e._)("span",{class:"product__amounts__mins iconfont",onClick:()=>a.changgeItemCounts(a.shopId,t,-1)},"",8,j),(0,e._)("span",A,(0,m.zw)(a.cartList?.[a.shopId]?.[t.id]?.cnt||0),1),(0,e._)("span",{class:"product__amounts__plus iconfont",onClick:()=>a.changgeItemCounts(a.shopId,t,1)},"",8,q)])])])))),128))])])}var H=c(65);const S=()=>{const t=(0,H.oR)(),{cartList:s}=(0,l.BK)(t.state),c=(s,c,e)=>{t.commit("changePdtCnt",{shopId:s,item:c,changePara:e})},e=(s,c)=>{c=!c,t.commit("shiftSelectAll",{shopId:s,selectAllOr:c})},a=s=>{t.commit("clearCart",{shopId:s})};return{cartList:s,changgeItemCounts:c,shiftSelectAll:e,clearCart:a}},U=()=>{const t=[{name:"全部商品",tab:"all"},{name:"秒杀",tab:"seckill"},{name:"新鲜水果",tab:"fruit"}];return{categoryList:t}},x=t=>{const s=(0,l.qj)({currentTab:t[0].tab,productItem:[]}),c=async t=>{const c=await(0,u.U)("/api/usr/shop/1/products",{tab:t});s.productItem=c.data,s.currentTab=t};c("all");const{productItem:e,currentTab:a}=(0,l.BK)(s);return{categoryClick:c,productItem:e,currentTab:a}};var B={name:"content",setup(){const t=(0,p.yj)(),s=t.params.id,{categoryList:c}=U(),{categoryClick:e,productItem:a,currentTab:n}=x(c),{cartList:r,changgeItemCounts:o,shiftSelectAll:i}=S();return{categoryList:c,categoryClick:e,productItem:a,currentTab:n,shopId:s,cartList:r,changgeItemCounts:o,shiftSelectAll:i}}},K=c(89);const Z=(0,K.Z)(B,[["render",F],["__scopeId","data-v-2711f7fc"]]);var O=Z,R=c(9242);const W=t=>((0,e.dD)("data-v-4e00223e"),t=t(),(0,e.Cn)(),t),M={key:1,class:"product"},Y={class:"product__header"},P={class:"product__header__right"},$=["innerHTML"],E=W((()=>(0,e._)("span",{class:"fontsize:.14rem;"},"全选",-1))),G={class:"product__header__left"},J={class:"product__one__checkbox iconfont"},N=["innerHTML","onClick"],Q=W((()=>(0,e._)("img",{src:"https://img.zcool.cn/community/0311d035682a5e40000018b8e50fb19.jpg?x-oss-process=image/resize,m_fill,w_260,h_195,limit_1/auto-orient,1/sharpen,100/quality,q_80/format,webp",class:"product__one__img"},null,-1))),V={class:"product__one__details"},X={class:"product__title"},tt={class:"product__price"},st={class:"product__price__now"},ct={class:"product__price__now__number"},et={class:"product__price__origin"},at={class:"product__amounts"},nt=["onClick"],rt={class:"product__amounts__number"},ot=["onClick"],it={class:"cart iconfont"},_t={class:"cart__amount"},lt={class:"price"},dt={class:"price__number"},pt={class:"commit"};function ut(t,s,c,a,n,r){const o=(0,e.up)("router-link");return(0,e.wg)(),(0,e.iD)(e.HY,null,[a.showCartList?((0,e.wg)(),(0,e.iD)("div",{key:0,class:"mask",onClick:s[0]||(s[0]=()=>a.showCartList=!a.showCartList)})):(0,e.kq)("",!0),a.showCartList?((0,e.wg)(),(0,e.iD)("div",M,[(0,e._)("div",Y,[(0,e._)("div",P,[(0,e._)("span",{class:"selectall iconfont",innerHTML:a.selectAllOr?"":"",onClick:s[1]||(s[1]=()=>a.shiftSelectAll(a.shopId,a.selectAllOr))},null,8,$),E]),(0,e._)("div",G,[(0,e._)("span",{class:"text1",onClick:s[2]||(s[2]=()=>a.clearCart(a.shopId,a.selectAllOr))},"清空购物车")])]),((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(a.productItem,((t,s)=>((0,e.wg)(),(0,e.iD)("div",{class:"product__one",key:s},[(0,e._)("div",J,[(0,e._)("span",{class:"iconfont checkicon",innerHTML:t.check?"":"",onClick:()=>t.check=!t.check},null,8,N)]),Q,(0,e._)("div",V,[(0,e._)("h4",X,(0,m.zw)(t.title),1),(0,e._)("div",tt,[(0,e._)("div",st,[(0,e.Uk)("¥"),(0,e._)("span",ct,(0,m.zw)(t.nowprice),1)]),(0,e._)("div",et,"¥"+(0,m.zw)(t.oldprice),1)]),(0,e._)("div",at,[(0,e._)("span",{class:"product__amounts__mins iconfont",onClick:()=>a.changgeItemCounts(a.shopId,t,-1)},"",8,nt),(0,e._)("span",rt,(0,m.zw)(t.cnt||0),1),(0,e._)("span",{class:"product__amounts__plus iconfont",onClick:()=>a.changgeItemCounts(a.shopId,t,1)},"",8,ot)])])])))),128))])):(0,e.kq)("",!0),(0,e._)("div",{class:"cart__wrapper",onClick:s[3]||(s[3]=()=>a.showCartList=!a.showCartList)},[(0,e._)("div",it,[(0,e.Uk)("  "),(0,e._)("div",_t,(0,m.zw)(a.accounts),1)]),(0,e._)("div",lt,[(0,e.Uk)(" 总计： "),(0,e._)("span",dt,"¥ "+(0,m.zw)(a.itemTotal),1)]),(0,e.wy)((0,e._)("div",pt,[(0,e.Wm)(o,{to:{path:`/orderConfirmation/${a.shopId}`},style:{"text-decoration":"none",color:"#FFF"}},{default:(0,e.w5)((()=>[(0,e.Uk)(" 去结算 ")])),_:1},8,["to"])],512),[[R.F8,a.itemTotal>0]])])],64)}const mt=(0,e.Fl)((()=>{const t=(0,H.oR)(),s=(0,p.yj)(),c=t.state.cartList;let e=0;if(c?.[s.params.id])for(const a in c[s.params.id])c[s.params.id][a].check&&(e+=c[s.params.id][a].cnt*c[s.params.id][a].nowprice);return e.toFixed(2)})),ht=(0,e.Fl)((()=>{const t=(0,H.oR)(),s=(0,p.yj)();for(const c in t.state.cartList[s.params.id])if(!t.state.cartList[s.params.id][c].check)return!1;return!0})),gt=(0,e.Fl)((()=>{const t=(0,H.oR)(),s=(0,p.yj)(),c=t.state?.cartList?.[s.params.id];let e=0;if(c)for(const a in c)e+=c[a].cnt;return e})),wt=()=>{const t=(0,H.oR)(),s=(0,p.yj)(),c=(0,e.Fl)((()=>{const c=t.state.cartList,e=c?.[s.params.id]||{},a={};for(const t in e)0!==e[t].cnt&&(a[t]=e[t]);return a}));return{productItem:c}};var ft={name:"Cart",setup(){const t=(0,p.yj)().params.id,s=(0,l.iH)(!1),{productItem:c}=wt(),{cartList:e,changgeItemCounts:a,shiftSelectAll:n,clearCart:r}=S();return{itemTotal:mt,accounts:gt,productItem:c,cartList:e,changgeItemCounts:a,shiftSelectAll:n,clearCart:r,shopId:t,selectAllOr:ht,showCartList:s}}};const vt=(0,K.Z)(ft,[["render",ut],["__scopeId","data-v-4e00223e"]]);var Ct=vt;const kt=()=>{const t=(0,p.yj)(),s=(0,l.qj)({item:{}}),c=async()=>{const c=await(0,u.U)(`/api/shop/${t.params.id}`);0===c?.errno&&c?.data&&(s.item=c.data)},{item:e}=(0,l.BK)(s);return{item:e,getItemsData:c}};var yt={name:"shop-info",components:{Shop:d.Z,Content:O,Cart:Ct},setup(){const{item:t,getItemsData:s}=kt();return s(),{item:t}}};const bt=(0,K.Z)(yt,[["render",_],["__scopeId","data-v-6f786f35"]]);var It=bt}}]);
//# sourceMappingURL=94.f96f32ef.js.map