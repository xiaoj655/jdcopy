{"version":3,"file":"js/732.10033cf0.js","mappings":"2LAEOA,MAAM,S,0CAAXC,EAAAA,EAAAA,IAAsC,MAAtCC,GAAsCC,EAAAA,EAAAA,IAAhBC,EAAAC,SAAO,E,eAM/B,GACEC,MAAO,CAAC,YAEH,MAAMC,EAAiBA,KAC5B,MAAMC,GAAYC,EAAAA,EAAAA,IAAS,CACzBC,MAAM,EACNC,aAAc,KAEVC,EAAaP,IACjBG,EAAUE,MAAO,EACjBF,EAAUG,aAAeN,EACzBQ,YAAW,KACTL,EAAUE,MAAO,EACjBF,EAAUG,aAAe,EAAC,GACzB,IAAK,GAEJ,KAAED,EAAI,aAAEC,IAAiBG,EAAAA,EAAAA,IAAON,GACtC,MAAO,CAAEE,OAAMC,eAAcC,YAAW,E,YClB1C,MAAMG,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O,qKCRKhB,MAAM,W,GACJA,MAAM,O,GACJA,MAAM,e,UAETiB,EAAAA,EAAAA,GAA8C,OAAzCjB,MAAM,sBAAqB,KAAQ,K,UAExCiB,EAAAA,EAAAA,GAAuC,OAAlCjB,MAAM,mBAAkB,QAAI,K,sZAUhCA,MAAM,Y,GACJA,MAAM,mB,aAGFA,MAAM,wB,GACNA,MAAM,wB,GACNA,MAAM,yB,GAAyEA,MAAM,S,GAK7FA,MAAM,U,UACTiB,EAAAA,EAAAA,GAEM,OAFDjB,MAAM,eAAa,UAAC,UACvBiB,EAAAA,EAAAA,GAAqF,QAA/EC,MAAA,mEAAiE,SAAO,K,GAI7ElB,MAAM,Q,GACJA,MAAM,iB,UACTiB,EAAAA,EAAAA,GAA6C,OAAxCjB,MAAM,oBAAmB,aAAS,K,UACvCiB,EAAAA,EAAAA,GAAkD,OAA7CjB,MAAM,oBAAmB,kBAAc,K,GACvCA,MAAM,oB,kHArCfiB,EAAAA,EAAAA,GA0BM,MA1BNf,EA0BM,EAzBJe,EAAAA,EAAAA,GAcM,MAdNE,EAcM,EAbJF,EAAAA,EAAAA,GAKM,MALNG,EAKM,EAJJC,EAAAA,EAAAA,IAEcC,EAAA,CAFAC,GAAE,CAAAC,KAAA,aAAsBC,EAAAC,W,mBACtC,IAA8C,CAA9CC,K,eAEAC,IAEFC,KAQFZ,EAAAA,EAAAA,GASM,MATNa,EASM,EARJb,EAAAA,EAAAA,GAAiD,MAAjDc,GAAiD5B,EAAAA,EAAAA,IAAjBsB,EAAAO,UAAQ,kBACxC/B,EAAAA,EAAAA,IAMMgC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAN8CT,EAAAU,WAAS,CAAzBC,EAAMC,M,WAA1CpC,EAAAA,EAAAA,IAMM,OANDD,MAAM,iBAAqDsC,IAAKD,G,EACjEpB,EAAAA,EAAAA,GAAoD,OAA9CsB,IAAKH,EAAKI,OAAQxC,MAAM,uB,WAC9BiB,EAAAA,EAAAA,GAGI,MAHJwB,EAGI,EAFJxB,EAAAA,EAAAA,GAAwD,MAAxDyB,GAAwDvC,EAAAA,EAAAA,IAAnBiC,EAAKO,OAAK,IAC/C1B,EAAAA,EAAAA,GAA8J,MAA9J2B,EAA8J,UAA3H,MAAMzC,EAAAA,EAAAA,IAAGiC,EAAKS,UAAW,OAAG1C,EAAAA,EAAAA,IAAGiC,EAAKU,KAAM,IAAC,IAAA7B,EAAAA,EAAAA,GAA0E,OAA1E8B,EAAoB,MAAM5C,EAAAA,EAAAA,KAAIiC,EAAKS,SAAST,EAAKU,KAAKE,QAAQ,IAAD,Y,WAKnJ/B,EAAAA,EAAAA,GAKM,MALNgC,EAKM,CAJJC,GAGAjC,EAAAA,EAAAA,GAAgE,OAA3DjB,MAAM,cAAemD,QAAKC,EAAA,KAAAA,EAAA,OAAQ3B,EAAA4B,UAAQ,IAAO,WAAI,SAE5DpC,EAAAA,EAAAA,GASM,MATNqC,EASM,EARJrC,EAAAA,EAAAA,GAOM,MAPNsC,EAOM,CANJC,EACAC,GACAxC,EAAAA,EAAAA,GAGM,MAHNyC,EAGM,EAFJzC,EAAAA,EAAAA,GAAgE,OAA3DjB,MAAM,sBAAuBmD,QAAKC,EAAA,KAAAA,EAAA,OAAAO,IAAElC,EAAAmC,aAAAnC,EAAAmC,eAAAD,KAAa,SACtD1C,EAAAA,EAAAA,GAAiE,OAA5DjB,MAAM,sBAAuBmD,QAAKC,EAAA,KAAAA,EAAA,OAAAO,IAAElC,EAAAoC,cAAApC,EAAAoC,gBAAAF,KAAc,aAAI,YANvClC,EAAA4B,YAUb5B,EAAAf,OAAI,WAAjBoD,EAAAA,EAAAA,IAA4CC,EAAA,C,MAAxB1D,QAASoB,EAAAd,c,4FAQ7B,MAAMqD,EAAoBA,KACxB,MAAMtC,GAASuC,EAAAA,EAAAA,MAAWC,OAAOC,GAC3BhC,GAAYiC,EAAAA,EAAAA,MAAWC,MAAMC,SAAS5C,GACtCM,GAAWuC,EAAAA,EAAAA,KAAS,KACxB,MAAMvC,GAAWoC,EAAAA,EAAAA,MAAWC,MAAMrC,SAASN,IAAW,GAEtD,OADA8C,QAAQC,IAAIzC,GACLA,CAAO,IAEhB,MAAO,CAAEG,YAAWT,SAAQM,WAAU,EAGlC0C,EAAkBA,CAACC,EAAOjD,EAAQd,EAAWgE,KACjD,MAAMhB,EAAcA,KAClBe,EAAME,OAAO,cAAe,CAAEnD,WAC9Bd,EAAU,SACVgE,EAAOE,KAAK,CAAEC,KAAM,QAAS,EAEzBlB,EAAeA,KACnBc,EAAME,OAAO,eAAgB,CAAEnD,WAC/Bd,EAAU,SACVgE,EAAOE,KAAK,CAAEC,KAAM,QAAS,EAE/B,MAAO,CAAElB,eAAcD,cAAa,EAEtC,OACEmB,KAAM,oBACNC,WAAY,CAAEC,MAAKA,EAAAA,GACnBC,QACE,MAAM7B,GAAW8B,EAAAA,EAAAA,KAAI,GACfR,GAAQP,EAAAA,EAAAA,MACRQ,GAASQ,EAAAA,EAAAA,OACT,KAAE1E,EAAI,aAAEC,EAAY,UAAEC,IAAcL,EAAAA,EAAAA,MACpC,UAAE4B,EAAS,OAAET,EAAM,SAAEM,GAAagC,KAClC,aAAEH,EAAY,YAAED,GAAgBc,EAAgBC,EAAOjD,EAAQd,EAAWgE,GAChF,MAAO,CAAEzC,YAAWT,SAAQM,WAAUqB,WAAUQ,eAAcD,cAAalD,OAAMC,eACnF,G,QChFF,MAAMI,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://jd/./src/components/Toast.vue","webpack://jd/./src/components/Toast.vue?44c7","webpack://jd/./src/views/orderConfirmation/OrderConfirmation.vue","webpack://jd/./src/views/orderConfirmation/OrderConfirmation.vue?bcaf"],"sourcesContent":["<!-- eslint-disable vue/multi-word-component-names -->\n<template>\n  <div class=\"toast\">{{ message }}</div>\n</template>\n\n<script>\nimport { reactive, toRefs } from 'vue'\n\nexport default {\n  props: ['message']\n}\nexport const useToastEffect = () => {\n  const toastData = reactive({\n    show: false,\n    toastMessage: ''\n  })\n  const showToast = (message) => {\n    toastData.show = true\n    toastData.toastMessage = message\n    setTimeout(() => {\n      toastData.show = false\n      toastData.toastMessage = ''\n    }, 2000)\n  }\n  const { show, toastMessage } = toRefs(toastData)\n  return { show, toastMessage, showToast }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.toast {\n  position: fixed;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%,-50%);\n  padding: .1rem;\n  background: rgba(0, 0, 0, .35);\n  border-radius: .05rem;\n  color: #FFF;\n}\n</style>\n","import { render } from \"./Toast.vue?vue&type=template&id=22d0921a&scoped=true\"\nimport script from \"./Toast.vue?vue&type=script&lang=js\"\nexport * from \"./Toast.vue?vue&type=script&lang=js\"\n\nimport \"./Toast.vue?vue&type=style&index=0&id=22d0921a&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/brook/vueproject/vue-5/jd/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-22d0921a\"]])\n\nexport default __exports__","<template>\n<div class=\"wrapper\">\n  <div class=\"top\">\n    <div class=\"top__header\">\n      <router-link :to=\"{ path:`/shopinfo/${shopId}`}\">\n      <div class=\"top__back iconfont\">&#xe662;</div>\n      </router-link>\n      <div class=\"top__back__text\">确认订单</div>\n    </div>\n    <div class=\"usrinfo\">\n      <span style=\"font-size: .16rem; line-height: .22rem; display: block;\">收货地址</span>\n      <span class=\"usrinfo__receipt\">北京理工大学国防科技园2号楼10层</span>\n      <span class=\"usrinfo__name\">王（先生）</span>\n      <span class=\"usrinfo__phone\">18911024266</span>\n      <span class=\"usrinfo__back iconfont\">&#xe662;</span>\n    </div>\n  </div>\n  <div class=\"products\">\n    <div class=\"products__title\">{{ shopName }}</div>\n    <div class=\"products__cart\" v-for=\"(item, index) in cartItems\" :key=\"index\">\n        <img :src=\"item.imgUrl\" class=\"products__cart__img\">\n        <div class=\"products__cart__info\">\n        <div class=\"products__cart__name\">{{ item.title }}</div>\n        <div class=\"products__cart__price\">&yen; {{ item.nowprice }} x {{ item.cnt }} <span class=\"total\">&yen; {{ (item.nowprice*item.cnt).toFixed(2) }}</span></div>\n      </div>\n    </div>\n  </div>\n</div>\n<div class=\"commit\">\n  <div class=\"commit__num\">实付金额\n    <span style=\"margin-left:.12rem; font-weight: 350; font-size: .18rem;\">&yen;62</span>\n  </div>\n  <div class=\"commit__btn\" @click=\"() => showMask=true\">提交订单</div>\n</div>\n<div class=\"mask\" v-show=\"showMask\">\n  <div class=\"mask__content\">\n    <div class=\"mask__content--1\">确认要离开收银台？</div>\n    <div class=\"mask__content--2\">请尽快完成支付，否则将被取消</div>\n    <div class=\"mask__content--3\">\n      <div class=\"mask__content__btn1\" @click=\"cancelOrder\">取消订单</div>\n      <div class=\"mask__content__btn2\" @click=\"confirmOrder\">确认支付</div>\n    </div>\n  </div>\n</div>\n<Toast v-if=\"show\" :message=\"toastMessage\"/>\n</template>\n\n<script>\nimport { computed, ref } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { useStore } from 'vuex'\nimport Toast, { useToastEffect } from '../../components/Toast.vue'\nconst useProductsEffect = () => {\n  const shopId = useRoute().params.id\n  const cartItems = useStore().state.cartList[shopId]\n  const shopName = computed(() => {\n    const shopName = useStore().state.shopName[shopId] || ''\n    console.log(shopName)\n    return shopName\n  })\n  return { cartItems, shopId, shopName }\n}\n\nconst useCommitEffect = (store, shopId, showToast, router) => {\n  const cancelOrder = () => {\n    store.commit('cancelOrder', { shopId })\n    showToast('订单已取消')\n    router.push({ name: 'Home' })\n  }\n  const confirmOrder = () => {\n    store.commit('confirmOrder', { shopId })\n    showToast('订单已完成')\n    router.push({ name: 'Home' })\n  }\n  return { confirmOrder, cancelOrder }\n}\nexport default {\n  name: 'orderConfirmation',\n  components: { Toast },\n  setup () {\n    const showMask = ref(false)\n    const store = useStore()\n    const router = useRouter()\n    const { show, toastMessage, showToast } = useToastEffect()\n    const { cartItems, shopId, shopName } = useProductsEffect()\n    const { confirmOrder, cancelOrder } = useCommitEffect(store, shopId, showToast, router)\n    return { cartItems, shopId, shopName, showMask, confirmOrder, cancelOrder, show, toastMessage }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.wrapper {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  background: #F5F5F5;\n}\n.top {\n  position: relative;\n  height: 1.96rem;\n  width: 100%;\n  background-image: linear-gradient(0deg, rgba(0,145,255,0.00) 4%, #0091FF 50%);;\n  background-size: 100% 1.59rem;\n  background-repeat: no-repeat;\n  padding-top: .3rem;\n  &__header {\n    position: relative;\n    color: #FFF;\n  }\n  &__back {\n    position: absolute;\n    font-size: .3rem;\n    left: .18rem;\n    line-height: .24rem;\n    top: -.05rem;\n    &__text {\n      text-align: center;\n      font-size: .16rem;\n    }\n  }\n}\n.usrinfo {\n  position: absolute;\n  right: .18rem;\n  left: .18rem;\n  bottom: 0;\n  padding: .16rem;\n  height: 1.01rem;\n  background: #FFF;\n  border-radius: .04rem;\n  &__receipt {\n    margin-top: .18rem;\n    margin-bottom: .1rem;\n    font-size: .14rem;\n    color: #333;\n    display: block;\n  }\n  &__name {\n    font-size: .14rem;\n    color: #666;\n    line-height: .18rem;\n    display: inline-block;\n    margin-right: .06rem;\n  }\n  &__phone {\n    font-size: .14rem;\n    color: #666;\n    display: inline-block;\n  }\n  &__back {\n    position: absolute;\n    transform: rotate(180deg);\n    right: .16rem;\n    top: .55rem;\n    color: #666;\n    font-size: .24rem;\n  }\n}\n.products {\n  margin: .16rem .18rem .55rem .16rem;\n  background-color: #FFF;\n  padding: .16rem;\n  border-radius: .04rem;\n  overflow-y: scroll;\n  overflow-x: hidden;\n  &__title {\n    font-size: .16rem;\n    line-height: .22rem;\n    margin-bottom: .16rem;\n    font-weight: bold;\n  }\n  &__cart {\n    display: flex;\n    position: relative;\n    margin: .2rem 0 .2rem 0;\n    // &__one {\n    //   margin: .1rem 0 .1rem 0;\n    // }\n    height: .52rem;\n    &__img {\n      width: .46rem;\n      height: .46rem;\n    }\n    &__info {\n      flex: 1;\n      padding-left: .16rem;\n    }\n    &__name {\n      font-size: .14rem;\n      font-weight: 150;\n      margin-bottom: .1rem;\n    }\n    &__price {\n      position: absolute;\n      color: #E93B3B;\n      font-size: .14rem;\n      bottom: 0;\n      width: 80%;\n      .total {\n        // position: absolute;\n        color:#000;\n        float: right;\n        font-size: .14rem;\n        font-weight: 120;\n      }\n    }\n  }\n}\n.commit {\n  position: fixed;\n  display: flex;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  padding-left: .24rem;\n  height: .5rem;\n  background-color: #FFF;\n  &__num {\n    width: 2.77rem;\n    font-size: .16rem;\n    font-weight: 250;\n    color: #333;\n    line-height: .49rem;\n  }\n  &__btn {\n    flex: 1;\n    background-color: #4FB0F9 ;\n    color: #FFF;\n    font-size: .14rem;\n    text-align: center;\n    line-height: .49rem;\n  }\n}\n.mask {\n  position: absolute;\n  bottom: 0;\n  top: 0;\n  left: 0;\n  right: 0;\n  background-color: rgba(0,0,0,0.50);\n  &__content {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%,-50%);\n    background-color: #FFF;\n    width: 3rem;\n    height: 1.56rem;\n    border-radius: .04rem;\n    &--1 {\n      font-size: .2rem;\n      font-weight: 200;\n      margin-top: .24rem;\n      text-align: center;\n      margin-bottom: .08rem;\n    }\n    &--2 {\n      font-size: .14rem;\n      color: #666;\n      text-align: center;\n    }\n    &--3 {\n      margin: .2rem .6rem 0 .6rem;\n      display: flex;\n      font-size: .14rem;\n    }\n    &__btn1 {\n      flex:1;\n      color: #0091FF;\n      border: .01rem solid #0091FF ;\n      text-align: center;\n      line-height: .32rem;\n      width: .8rem;\n      border-radius: .16rem;\n      margin-right: .12rem;\n    }\n    &__btn2 {\n      flex: 1;\n      border-radius: .16rem;\n      margin-left: .12rem;\n      color: #FFF;\n      background-color: #0091FF ;\n      text-align: center;\n      line-height: .32rem;\n      width: .8rem;\n    }\n  }\n}\n</style>\n","import { render } from \"./OrderConfirmation.vue?vue&type=template&id=7c91cf4f&scoped=true\"\nimport script from \"./OrderConfirmation.vue?vue&type=script&lang=js\"\nexport * from \"./OrderConfirmation.vue?vue&type=script&lang=js\"\n\nimport \"./OrderConfirmation.vue?vue&type=style&index=0&id=7c91cf4f&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/brook/vueproject/vue-5/jd/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7c91cf4f\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_toDisplayString","$props","message","props","useToastEffect","toastData","reactive","show","toastMessage","showToast","setTimeout","toRefs","__exports__","render","_createElementVNode","style","_hoisted_2","_hoisted_3","_createVNode","_component_router_link","to","path","$setup","shopId","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","shopName","_Fragment","_renderList","cartItems","item","index","key","src","imgUrl","_hoisted_10","_hoisted_11","title","_hoisted_12","nowprice","cnt","_hoisted_13","toFixed","_hoisted_14","_hoisted_15","onClick","_cache","showMask","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","args","cancelOrder","confirmOrder","_createBlock","_component_Toast","useProductsEffect","useRoute","params","id","useStore","state","cartList","computed","console","log","useCommitEffect","store","router","commit","push","name","components","Toast","setup","ref","useRouter"],"sourceRoot":""}