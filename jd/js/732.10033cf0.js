"use strict";(self["webpackChunkjd"]=self["webpackChunkjd"]||[]).push([[732],{1196:function(s,a,t){t.d(a,{Z:function(){return p},S:function(){return i}});var c=t(3396),o=t(7139);const e={class:"toast"};function n(s,a,t,n,r,_){return(0,c.wg)(),(0,c.iD)("div",e,(0,o.zw)(t.message),1)}var r=t(4870),_={props:["message"]};const i=()=>{const s=(0,r.qj)({show:!1,toastMessage:""}),a=a=>{s.show=!0,s.toastMessage=a,setTimeout((()=>{s.show=!1,s.toastMessage=""}),2e3)},{show:t,toastMessage:c}=(0,r.BK)(s);return{show:t,toastMessage:c,showToast:a}};var d=t(89);const l=(0,d.Z)(_,[["render",n],["__scopeId","data-v-22d0921a"]]);var p=l},7732:function(s,a,t){t.r(a),t.d(a,{default:function(){return U}});var c=t(3396),o=t(7139),e=t(9242);const n=s=>((0,c.dD)("data-v-7c91cf4f"),s=s(),(0,c.Cn)(),s),r={class:"wrapper"},_={class:"top"},i={class:"top__header"},d=n((()=>(0,c._)("div",{class:"top__back iconfont"},"",-1))),l=n((()=>(0,c._)("div",{class:"top__back__text"},"确认订单",-1))),p=(0,c.uE)('<div class="usrinfo" data-v-7c91cf4f><span style="font-size:.16rem;line-height:.22rem;display:block;" data-v-7c91cf4f>收货地址</span><span class="usrinfo__receipt" data-v-7c91cf4f>北京理工大学国防科技园2号楼10层</span><span class="usrinfo__name" data-v-7c91cf4f>王（先生）</span><span class="usrinfo__phone" data-v-7c91cf4f>18911024266</span><span class="usrinfo__back iconfont" data-v-7c91cf4f></span></div>',1),m={class:"products"},u={class:"products__title"},f=["src"],v={class:"products__cart__info"},h={class:"products__cart__name"},w={class:"products__cart__price"},k={class:"total"},g={class:"commit"},I=n((()=>(0,c._)("div",{class:"commit__num"},[(0,c.Uk)("实付金额 "),(0,c._)("span",{style:{"margin-left":".12rem","font-weight":"350","font-size":".18rem"}},"¥62")],-1))),O={class:"mask"},M={class:"mask__content"},b=n((()=>(0,c._)("div",{class:"mask__content--1"},"确认要离开收银台？",-1))),z=n((()=>(0,c._)("div",{class:"mask__content--2"},"请尽快完成支付，否则将被取消",-1))),y={class:"mask__content--3"};function C(s,a,t,n,C,j){const D=(0,c.up)("router-link"),H=(0,c.up)("Toast");return(0,c.wg)(),(0,c.iD)(c.HY,null,[(0,c._)("div",r,[(0,c._)("div",_,[(0,c._)("div",i,[(0,c.Wm)(D,{to:{path:`/shopinfo/${n.shopId}`}},{default:(0,c.w5)((()=>[d])),_:1},8,["to"]),l]),p]),(0,c._)("div",m,[(0,c._)("div",u,(0,o.zw)(n.shopName),1),((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(n.cartItems,((s,a)=>((0,c.wg)(),(0,c.iD)("div",{class:"products__cart",key:a},[(0,c._)("img",{src:s.imgUrl,class:"products__cart__img"},null,8,f),(0,c._)("div",v,[(0,c._)("div",h,(0,o.zw)(s.title),1),(0,c._)("div",w,[(0,c.Uk)("¥ "+(0,o.zw)(s.nowprice)+" x "+(0,o.zw)(s.cnt)+" ",1),(0,c._)("span",k,"¥ "+(0,o.zw)((s.nowprice*s.cnt).toFixed(2)),1)])])])))),128))])]),(0,c._)("div",g,[I,(0,c._)("div",{class:"commit__btn",onClick:a[0]||(a[0]=()=>n.showMask=!0)},"提交订单")]),(0,c.wy)((0,c._)("div",O,[(0,c._)("div",M,[b,z,(0,c._)("div",y,[(0,c._)("div",{class:"mask__content__btn1",onClick:a[1]||(a[1]=(...s)=>n.cancelOrder&&n.cancelOrder(...s))},"取消订单"),(0,c._)("div",{class:"mask__content__btn2",onClick:a[2]||(a[2]=(...s)=>n.confirmOrder&&n.confirmOrder(...s))},"确认支付")])])],512),[[e.F8,n.showMask]]),n.show?((0,c.wg)(),(0,c.j4)(H,{key:0,message:n.toastMessage},null,8,["message"])):(0,c.kq)("",!0)],64)}t(7658);var j=t(4870),D=t(2483),H=t(65),N=t(1196);const T=()=>{const s=(0,D.yj)().params.id,a=(0,H.oR)().state.cartList[s],t=(0,c.Fl)((()=>{const a=(0,H.oR)().state.shopName[s]||"";return console.log(a),a}));return{cartItems:a,shopId:s,shopName:t}},Z=(s,a,t,c)=>{const o=()=>{s.commit("cancelOrder",{shopId:a}),t("订单已取消"),c.push({name:"Home"})},e=()=>{s.commit("confirmOrder",{shopId:a}),t("订单已完成"),c.push({name:"Home"})};return{confirmOrder:e,cancelOrder:o}};var x={name:"orderConfirmation",components:{Toast:N.Z},setup(){const s=(0,j.iH)(!1),a=(0,H.oR)(),t=(0,D.tv)(),{show:c,toastMessage:o,showToast:e}=(0,N.S)(),{cartItems:n,shopId:r,shopName:_}=T(),{confirmOrder:i,cancelOrder:d}=Z(a,r,e,t);return{cartItems:n,shopId:r,shopName:_,showMask:s,confirmOrder:i,cancelOrder:d,show:c,toastMessage:o}}},F=t(89);const R=(0,F.Z)(x,[["render",C],["__scopeId","data-v-7c91cf4f"]]);var U=R}}]);
//# sourceMappingURL=732.10033cf0.js.map